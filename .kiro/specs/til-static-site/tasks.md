# 实施计划

- [x] 1. 项目依赖和配置
  - [x] 1.1 安装 ULID 库和配置 pnpm
    - 使用 pnpm 安装 ulid 库
    - 配置 package.json 脚本
    - _需求: 2.5, 5.3_

  - [x] 1.2 配置 Next.js 静态导出和 Tailwind CSS
    - 更新 next.config.ts 支持静态导出
    - 配置 Tailwind CSS 极简主题
    - 更新全局样式
    - _需求: 4.3, 6.1, 6.4, 7.1_

- [ ] 2. 核心数据模型和工具类
  - [x] 2.1 实现 TIL 数据模型
    - 创建 src/types.ts 定义 TIL 接口
    - 简洁的类型定义，不包含不必要的辅助函数
    - 直接使用 ulid 库进行时间戳操作
    - _需求: 2.5, 5.3, 5.4_

  - [ ]* 2.2 为 ULID 时间戳解析编写属性测试
    - **属性 5: ULID 提取和时间戳解析**
    - **验证: 需求 2.5, 5.3, 5.4**
    - 测试直接使用 ulid 库的 decodeTime 功能

  - [x] 2.3 实现分页 Page 类
    - 在 src/types.ts 中创建 Page 类，包含 tils 和 pageNumber 属性
    - 实现 fromAllTILs 静态方法从所有 TIL 创建指定页面
    - 实现 getTotalPages 静态方法计算总页数（每页 10 个条目）
    - _需求: 1.3, 1.4_

  - [ ]* 2.4 为分页一致性编写属性测试
    - **属性 1: 首页分页一致性**
    - **验证: 需求 1.3, 1.4**

- [ ] 3. 内容获取和解析系统
  - [x] 3.1 实现内容获取器
    - 创建 src/lib/content-fetcher.ts 从本地文件系统读取
    - 实现文件验证和错误处理
    - 支持从 source/notes 目录读取 markdown 文件
    - _需求: 4.2, 5.1_

  - [ ]* 3.2 为内容获取完整性编写属性测试
    - **属性 8: 内容获取完整性**
    - **验证: 需求 4.2, 5.1**

  - [x] 3.3 实现 Markdown 解析器
    - 创建 src/lib/markdown-parser.ts 解析 front matter
    - 集成 gray-matter 库处理 YAML front matter
    - 实现错误处理和默认值
    - _需求: 5.2, 5.5_

  - [ ]* 3.4 为 Markdown 解析往返编写属性测试
    - **属性 7: Markdown 解析往返**
    - **验证: 需求 5.2**

- [ ] 4. React 组件实现
  - [x] 4.1 创建 Markdown 渲染组件
    - 实现 src/components/MarkdownRenderer.tsx 使用 react-markdown
    - 配置 remark-gfm 和 rehype-highlight 插件
    - 添加代码高亮和 GitHub 风格 markdown 支持
    - _需求: 7.2, 7.4_

  - [ ]* 4.2 为 React Markdown 渲染一致性编写属性测试
    - **属性 10: React Markdown 渲染一致性**
    - **验证: 需求 7.2, 7.4**

  - [x] 4.3 创建 TIL 卡片组件
    - 实现 src/components/TILCard.tsx 显示 TIL 条目
    - 集成 MarkdownRenderer 组件
    - 添加极简样式和响应式设计
    - _需求: 1.2, 6.1, 6.2_

  - [x] 4.4 创建分页组件
    - 实现 src/components/Pagination.tsx
    - 使用 Lucide React 图标
    - 添加页面导航逻辑
    - _需求: 1.3, 1.4, 6.3_

  - [x] 4.5 创建归档项组件
    - 实现 src/components/ArchiveItem.tsx
    - 仅显示标题和链接
    - _需求: 3.1, 3.2_

- [ ] 5. App Router 页面实现
  - [ ] 5.1 更新布局组件
    - 修改 src/app/layout.tsx 适配 TIL 站点
    - 添加极简设计元数据和样式
    - 配置字体和全局样式
    - _需求: 6.1, 6.2, 7.1_

  - [ ] 5.2 实现首页
    - 修改 src/app/page.tsx 显示最新 TIL 条目
    - 实现静态数据获取逻辑
    - 显示前 10 个条目并提供分页链接
    - _需求: 1.1, 1.2, 1.5_

  - [ ]* 5.3 为内容完整性编写属性测试
    - **属性 2: 内容完整性**
    - **验证: 需求 1.2, 2.2**

  - [ ] 5.4 实现分页页面
    - 创建 src/app/page/[page]/page.tsx
    - 使用 generateStaticParams 预生成分页路由
    - 实现分页数据获取和显示
    - _需求: 1.3, 1.4_

  - [ ] 5.5 实现独立 TIL 页面
    - 创建 src/app/[ulid]/page.tsx 显示单个条目
    - 使用 generateStaticParams 预生成所有 ULID 路由
    - 实现 404 处理
    - _需求: 2.1, 2.2, 2.3_

  - [ ]* 5.6 为 ULID 到页面映射编写属性测试
    - **属性 4: ULID 到页面映射**
    - **验证: 需求 2.1, 2.3**

  - [ ] 5.7 实现归档页面
    - 创建 src/app/archive/page.tsx 显示所有条目列表
    - 仅显示标题-链接对
    - 按时间排序
    - _需求: 3.1, 3.2, 3.4_

  - [ ]* 5.8 为归档页面格式编写属性测试
    - **属性 6: 归档页面格式**
    - **验证: 需求 3.1, 3.2, 3.3**

  - [ ]* 5.9 为时间排序一致性编写属性测试
    - **属性 3: 时间排序一致性**
    - **验证: 需求 1.5, 3.4**

  - [ ] 5.10 实现 404 错误页面
    - 创建 src/app/not-found.tsx 处理不存在的 ULID
    - 保持极简设计风格
    - _需求: 2.4_

- [ ] 6. 检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户

- [ ] 7. 样式和用户体验优化
  - [ ] 7.1 完善极简设计样式
    - 优化 Tailwind CSS 配置
    - 确保响应式设计在所有设备上正常工作
    - 添加适当的间距和排版
    - _需求: 6.1, 6.2, 6.5_

  - [ ] 7.2 添加导航和图标
    - 在页面间添加导航链接
    - 使用 Lucide React 图标增强用户体验
    - 保持极简设计原则
    - _需求: 6.3, 7.5_

  - [ ]* 7.3 为资源最小化编写属性测试
    - **属性 9: 资源最小化**
    - **验证: 需求 6.4**

- [ ] 8. 构建和部署配置
  - [ ] 8.1 配置静态导出构建
    - 确保 Next.js 配置支持完全静态导出
    - 测试本地构建和导出流程
    - 验证所有页面都能正确生成
    - _需求: 4.3, 7.1_

  - [ ] 8.2 创建 GitHub Actions 工作流
    - 实现自动构建和部署流程
    - 配置从源仓库获取内容
    - 设置 GitHub Pages 部署
    - _需求: 4.1, 4.4_

  - [ ] 8.3 设置错误处理和回退机制
    - 实现构建失败时的错误处理
    - 配置缓存和重试机制
    - _需求: 4.5, 5.5_

- [ ] 9. 最终检查点 - 确保所有测试通过
  - 确保所有测试通过，如有问题请询问用户