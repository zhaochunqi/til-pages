# 需求文档

## 介绍

该系统为 TIL (Today I Learned) 内容生成极简的静态网站。系统创建带分页的首页、使用 ULID 作为 URL 的独立页面，以及仅显示标题链接的归档页面。系统包含当源 TIL 仓库更新时的自动构建触发机制。

## 术语表

- **TIL系统**: 处理 TIL 内容的静态站点生成器
- **源仓库**: 包含 TIL markdown 文件的 GitHub 仓库 (https://github.com/zhaochunqi/til)
- **目标仓库**: 托管生成的静态页面的仓库 (til-pages)
- **ULID**: 用于 TIL 条目 URL 的通用唯一词典排序标识符
- **Notes目录**: 源仓库中包含 TIL 文件的 "notes" 文件夹
- **首页**: 显示最新 TIL 条目的主索引页面
- **独立页面**: 通过 ULID URL 访问的每个 TIL 条目的专用页面
- **归档页面**: 仅列出所有 TIL 条目标题和链接的页面

## 需求

### 需求 1

**用户故事:** 作为访问者，我希望在首页浏览最新的 TIL 条目，以便快速查看最新的学习内容。

#### 验收标准

1. 当访问者访问首页时，TIL系统应显示最新的 10 个 TIL 条目
2. 当首页显示条目时，TIL系统应显示每个条目的完整内容而不截断
3. 当条目超过 10 个时，TIL系统应提供分页控件来在页面间导航
4. 当使用分页时，TIL系统应始终保持每页 10 个条目
5. 当显示条目时，TIL系统应按创建日期排序，最新的在前

### 需求 2

**用户故事:** 作为访问者，我希望通过直接 URL 访问单个 TIL 条目，以便分享和收藏特定的学习内容。

#### 验收标准

1. 当 TIL 条目存在于 Notes目录 中时，TIL系统应生成可通过 URL 模式 /[ULID] 访问的页面
2. 当访问独立页面时，TIL系统应显示完整的 TIL 内容而不截断
3. 当 ULID 对应现有 TIL 条目时，TIL系统应提供相应的内容页面
4. 当 ULID 不对应任何 TIL 条目时，TIL系统应返回 404 错误页面
5. 当生成独立页面时，TIL系统应从 Notes目录 中的文件名提取 ULID

### 需求 3

**用户故事:** 作为访问者，我希望以归档格式浏览所有 TIL 条目，以便快速浏览所有可用内容。

#### 验收标准

1. 当访问者访问归档页面时，TIL系统应将所有 TIL 条目显示为标题-链接对
2. 当显示归档条目时，TIL系统应仅显示每个条目的标题和可点击链接
3. 当点击归档链接时，TIL系统应导航到相应的独立页面
4. 当归档页面加载时，TIL系统应按时间顺序排序，最新的在前
5. 当添加新 TIL 条目时，TIL系统应自动将其包含在归档页面中

### 需求 4

**用户故事:** 作为内容维护者，我希望当 TIL 内容更新时静态站点自动重建，以便网站保持最新而无需手动干预。

#### 验收标准

1. 当源仓库中的内容更新时，源仓库应触发目标仓库中的构建
2. 当触发构建时，TIL系统应从源仓库获取最新内容
3. 当获取内容时，TIL系统应使用更新的内容重新生成所有静态页面
4. 当重新生成完成时，TIL系统应自动部署更新的站点
5. 当构建过程失败时，TIL系统应维护之前的工作版本

### 需求 5

**用户故事:** 作为内容创建者，我希望系统从 notes 目录解析 TIL 文件，以便我的 markdown 内容正确转换为网页。

#### 验收标准

1. 当 TIL 文件存在于 Notes目录 中时，TIL系统应完全解析每个 markdown 文件
2. 当解析 markdown 文件时，TIL系统应将 markdown 语法转换为适当的 HTML 元素
3. 当提取文件信息时，TIL系统应使用文件名作为 ULID 标识符的来源
4. 当处理文件元数据时，TIL系统应提取创建日期以进行正确的时间排序
5. 当 markdown 解析遇到错误时，TIL系统应记录错误并跳过有问题的文件

### 需求 6

**用户故事:** 作为访问者，我希望网站具有清洁和极简的设计，以便专注于内容而不受干扰。

#### 验收标准

1. 当任何页面加载时，TIL系统应应用具有清洁排版的极简视觉设计
2. 当显示内容时，TIL系统应使用充足的空白和可读的字体大小
3. 当存在导航元素时，TIL系统应保持其简单和不突兀
4. 当页面渲染时，TIL系统应确保使用最少的 CSS 和 JavaScript 实现快速加载
5. 当在不同设备上查看时，TIL系统应在各种屏幕尺寸上保持可读性